% !TeX root = ./testing/test.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% The tikzlings-addons package (part of the tikzlings collection)
% A package to draw litlle things with tikz 
% Maintained by samcarter
%
% Project repository and bug tracker:
% https://github.com/samcarter/tikzlings
%
% Released under the LaTeX Project Public License v1.3c or later
% See http://www.latex-project.org/lppl.txt
%
% Version 0.1
% Aug 27, 2018  
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ProvidesPackage{tikzlings-addons}
 [2018/08/26 v0.7 Draw additional items for the tikzlings]

\RequirePackage{tikz}
\usetikzlibrary{patterns} % for the wizard hat

\newcommand*{\thing}[1][]{%
	\begin{scope}%
		\tikzset{/thing/.cd,#1}%
		\thing@draw%
	\end{scope}%
}

\newif\ifthing@tophat
\newif\ifthing@hat
\newif\ifthing@crown
\newif\ifthing@alien




\newif\ifthing@hat
\newif\ifthing@cap
\newif\ifthing@santa
\newif\ifthing@unicorn
\newif\ifthing@magichat
\newif\ifthing@chef
\newif\ifthing@witch
\newif\ifthing@graduate
\newif\ifthing@beret
\newif\ifthing@crown
\newif\ifthing@queencrown
\newif\ifthing@kingcrown
\newif\ifthing@peakedcap
\newif\ifthing@bunny
\newif\ifthing@tophat
\newif\ifthing@darthvader
\newif\ifthing@harlequin
\newif\ifthing@strawhat
% Accessories %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newif\ifthing@glasses
\newif\ifthing@sunglasses
\newif\ifthing@squareglasses
\newif\ifthing@icecream
\newif\ifthing@book
\newif\ifthing@magicwand
\newif\ifthing@cricket
\newif\ifthing@rollingpin
\newif\ifthing@signpost
\newif\ifthing@lightsaber
\newif\ifthing@cake
\newif\ifthing@pizza
\newif\ifthing@hockey
\newif\ifthing@baguette
\newif\ifthing@football
\newif\ifthing@mask
\newif\ifthing@necklace
\newif\ifthing@milkshake
\newif\ifthing@wine
\newif\ifthing@prison
\newif\ifthing@speech
\newif\ifthing@think
\newif\ifthing@torch
\newif\ifthing@easter
\newif\ifthing@basket
\newif\ifthing@buttons
\newif\ifthing@sheep
\newif\ifthing@horsetail
\newif\ifthing@crozier
\newif\ifthing@davidlikespineapplepizza
\newif\ifthing@wing
\newif\ifthing@stethoscope
\newif\ifthing@neckerchief
\newif\ifthing@vampire
\newif\ifthing@crystalball



\tikzset{
  %
  % Pass unknown keys on to tikz
  %
  /thing/.search also={/tikz,/pgf,/bear,/penguin,/marmot,/owl,/koala,/coati,/snowman},
  /thing/.cd,
  %
  % items
  %
  tophat/.code        = \thing@tophattrue      \def\thing@tophat{#1},
  top hat/.forward to =/thing/tophat,
  tophat/.default     = black!90!white,
  hat/.code           = \thing@hattrue         \def\thing@hat{#1},
  hat/.default        = blue!40!black,  
  crown/.code         = \thing@crowntrue       \def\thing@crown{#1},
  crown/.default      = yellow!90!orange,    
  alien/.code         = \thing@alientrue       \def\thing@alien{#1},
  alien/.default      = green,   
%  
%  
%  
%  
%  
  cap/.code          = \thing@captrue         \def\thing@cap{#1},
  santa/.code        = \thing@santatrue       \def\thing@santa{#1},
  chef/.code         = \thing@cheftrue        \def\thing@chef{#1},
  graduate/.code     = \thing@graduatetrue    \def\thing@graduate{#1},
  tassel/.code       =                       \def\thing@tassel{#1},
  beret/.code        = \thing@berettrue       \def\thing@beret{#1},
  unicorn/.code      = \thing@unicorntrue     \def\thing@unicorn{#1},
  magichat/.code     = \thing@magichattrue    \def\thing@magichat{#1},
  magic hat/.forward to=/thing/magichat,
  magicstars/.code   =                       \def\thing@magicstars{#1},
  magic stars/.forward to=/thing/magicstars,
  witch/.code        = \thing@witchtrue       \def\thing@witch{#1},
  crown/.code        = \thing@crowntrue       \def\thing@crown{#1},
  queencrown/.code   = \thing@queencrowntrue  \def\thing@queencrown{#1},
  queen crown/.forward to=/thing/queencrown,
  kingcrown/.code    = \thing@kingcrowntrue   \def\thing@kingcrown{#1},
  king crown/.forward to=/thing/kingcrown,
  bunny/.code        = \thing@bunnytrue       \def\thing@bunny{#1},
  inear/.code        =                       \def\thing@inear{#1},
  in ear/.forward to=/thing/inear,
  peakedcap/.code    = \thing@peakedcaptrue   \def\thing@peakedcap{#1},
  peaked cap/.forward to=/thing/peakedcap,
  darthvader/.code   = \thing@darthvadertrue  \def\thing@darthvader{#1},
  darth vader/.forward to=/thing/darthvader,
  harlequin/.code    = \thing@harlequintrue   \def\thing@harlequin{#1},
  niuqelrah/.code	   =                       \def\thing@niuqelrah{#1},
  strawhat/.code     = \thing@strawhattrue    \def\thing@strawhat{#1},
  straw hat/.forward to=/thing/strawhat,
  ribbon/.code       =                       \def\thing@ribbon{#1},
  % setting defaults %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
  cap/.default       = blue,
  santa/.default     = red!80!black,
  chef/.default      = gray!20!white,
  graduate/.default  = black,
  tassel             = red,
  beret/.default     = black,      
  unicorn/.default   = pink,
  magichat/.default  = violet,
  magicstars         = yellow!80!brown,
  witch/.default     = black,    
  crown/.default     = yellow,
  queencrown/.default= yellow,
  kingcrown/.default = gray,
  bunny/.default     = \thing@body,
  inear              = \thing@bunny!50!white,
  peakedcap/.default = blue,
  tophat/.default    = black,
  darthvader/.default= black,
  harlequin/.default = blue,
  niuqelrah          = red,
  strawhat/.default  = gray!30!white,
  ribbon             = black,
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  %
  % Accessories
  %
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  glasses/.code      = \thing@glassestrue     \def\thing@glasses{#1},
  sunglasses/.code   = \thing@sunglassestrue  \def\thing@sunglasses{#1},
  squareglasses/.code = \thing@squareglassestrue \def\thing@squareglasses{#1},
  square glasses/.forward to=/thing/squareglasses,
  icecream/.code     = \thing@icecreamtrue    \def\thing@cone{#1},
  ice cream/.forward to=/thing/icecream,
  flavoura/.code     =                       \def\thing@flavoura{#1},
  flavour a/.forward to=/thing/flavoura,
  flavourb/.code     =                       \def\thing@flavourb{#1},
  flavour b/.forward to=/thing/flavourb,
  flavourc/.code     =                       \def\thing@flavourc{#1},
  flavour c/.forward to=/thing/flavourc,
  book/.code         = \thing@booktrue        \def\thing@book{#1},
  bookcolour/.code   =                       \def\thing@bookcolour{#1},
  book colour/.forward to=/thing/bookcolour,
  book color/.forward to=/thing/bookcolour,
  bookcolor/.forward to=/thing/bookcolour,
  signpost/.code     = \thing@signposttrue    \def\thing@signpost{#1},
  sign post/.forward to=/thing/signpost,
  signcolour/.code   =                       \def\thing@signcolour{#1},
  sign colour/.forward to=/thing/signcolour,
  sign color/.forward to=/thing/signcolour,
  signcolor/.forward to=/thing/signcolour,  
  signback/.code     =                       \def\thing@signback{#1},
  sign back/.forward to=/thing/signback,
  magicwand/.code    = \thing@magicwandtrue,
  magic want/.forward to=/thing/magicwand,
  cricket/.code      = \thing@crickettrue     \def\thing@cricket{#1},
  rollingpin/.code   = \thing@rollingpintrue  \def\thing@rollingpin{#1},
  rolling pin/.forward to=/thing/rollingpin,
  lightsaber/.code   = \thing@lightsabertrue  \def\thing@lightsaber{#1},
  light saber/.forward to=/thing/lightsaber,
  cake/.code         = \thing@caketrue        \def\thing@cake{#1},
  pizza/.code        = \thing@pizzatrue,
  hockey/.code       = \thing@hockeytrue      \def\thing@hockey{#1},
  baguette/.code     = \thing@baguettetrue    \def\thing@baguette{#1},
  football/.code     = \thing@footballtrue    \def\thing@football{#1},
  mask/.code         = \thing@masktrue        \def\thing@mask{#1},
  necklace/.code     = \thing@necklacetrue    \def\thing@necklace{#1},
  milkshake/.code    = \thing@milkshaketrue   \def\thing@milkshake{#1},
  wine/.code         = \thing@winetrue        \def\thing@wine{#1},  
  prison/.code       = \thing@prisontrue      \def\thing@prison{#1},
  speech/.code       = \thing@speechtrue      \def\thing@speech{#1},
  think/.code        = \thing@thinktrue       \def\thing@think{#1},
  bubblecolour/.code =                     \def\thing@bubblecolour{#1},
  bubble colour/.forward to=/thing/bubblecolour,
  bubble color/.forward to=/thing/bubblecolour,
  bubblecolor/.forward to=/thing/bubblecolour,  
  torch/.code        = \thing@torchtrue       \def\thing@torch{#1},
  basket/.code       = \thing@baskettrue      \def\thing@basket{#1},
  easter/.code       = \thing@eastertrue
                       \thing@baskettrue      \def\thing@basket{#1},
  egga/.code         =                       \def\thing@egga{#1},
  egg a/.forward to=/thing/egga,
  eggb/.code         =                       \def\thing@eggb{#1},
  egg b/.forward to=/thing/eggb,
  eggc/.code         =                       \def\thing@eggc{#1},
  egg c/.forward to=/thing/eggc,
  buttons/.code      = \thing@buttonstrue     \def\thing@buttons{#1},
  sheep/.code        = \thing@sheeptrue       \def\thing@sheep{#1},
  horsetail/.code    = \thing@horsetailtrue   \def\thing@horsetail{#1},
  crozier/.code      = \thing@croziertrue     \def\thing@crozier{#1},
  davidlikespineapplepizza/.code = \thing@davidlikespineapplepizzatrue
  \thing@speechtrue \def\thing@speech{\scalebox{\yscalefactor}{\scalebox{0.9}{\tiny ih, che schifo!}}},
  david likes pineapple pizza/.forward to=/thing/davidlikespineapplepizza,
  wing/.code    = \thing@wingtrue      \def\thing@wing{#1},
  stethoscope/.code = \thing@stethoscopetrue \def\thing@stethoscope{#1},
  neckerchief/.code = \thing@neckerchieftrue \def\thing@neckerchief{#1},
  woggle/.code			=												\def\thing@woggle{#1},
  vampire/.code     = \thing@vampiretrue  \def\thing@vampire{#1},
  crystalball/.code = \thing@crystalballtrue \def\thing@crystalball{#1},
  crystal ball/.forward to=/thing/crystalball,
  % setting defaults %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  glasses/.default   = black,  
  sunglasses/.default= black,  
  squareglasses/.default = black,
  icecream/.default  = brown!60!gray,
  flavoura           = brown!50!black,
  flavourb           = white!70!brown,
  flavourc           = red!50!white,
  bookcolour         = brown,
  signcolour         = brown!50!black,
  signback           = green!40!black,  
  cricket/.default   = brown,
  rollingpin/.default= brown,
  lightsaber/.default= green,
  cake/.default      = violet,
  hockey/.default    = brown,
  baguette/.default  = brown,
  football/.default  = white,
  mask/.default      = black,
  necklace/.default  = white!80!gray,
  milkshake/.default = red!20!white,
  wine/.default      = red!70!black,
  prison/.default    = gray,
  bubblecolour       = gray!30!white,
  torch/.default     = gray,
  basket/.default    = brown!70!gray,
  easter/.default    = brown!70!gray,
  egga               = blue,
  eggb               = green,
  eggc               = red,
  buttons/.default   = black,
  sheep/.default     = \thing@body,
  horsetail/.default = brown,
  crozier/.default   = brown,
  wing/.default      = yellow!50!brown,
  stethoscope/.default = gray,
  neckerchief/.default = brown,
  woggle 						   = brown!50!black,
  vampire/.default   = white!85!yellow,
  crystalball/.default = cyan,  
}

\def\thing@draw{%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Headgear
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% tophat %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@tophat
  \fill[\thing@tophat,rotate around={-15:(0.1,1.94)}] (0.1,1.94) ellipse (0.48 and 0.1);
  \fill[\thing@tophat,rotate around={-15:(0.15,2.165)}] (-0.17, 1.94) -- (0.46, 1.94) -- (0.52, 2.39) -- (-0.22, 2.39) -- cycle;
  \fill[\thing@tophat,rotate around={-15:(0.21,2.385)}] (0.21,2.385) ellipse (0.37 and 0.08);  
\fi
%
% hat %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@hat
  \fill[\thing@hat,rotate around={-15:(-0.3,2.01)}] (-0.3,2.01) rectangle (0.46,2.31);
  \fill[\thing@hat,rotate around={-15:(0.05,1.92)}] (0.05,1.92) ellipse (0.6 and 0.1); 
  \fill[\thing@hat,rotate around={-15:(0.14,2.2)}] (0.14,2.2) ellipse (0.37 and 0.08); 
\fi
%
% crown %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@crown
	\fill[\thing@crown] (-0.1885,2.0616) .. controls (-0.1885,2.0616) and (-0.1479,2.1763) .. (-0.2291,2.465) -- (-0.0355,2.2378) -- (0.1141,2.3943) -- (0.201,2.1961) -- (0.4688,2.3318) .. controls (0.2677,2.1132) and (0.2944,1.9764) .. (0.2944, 1.9764) .. controls (0.1524,1.9202) and (-0.0743,1.9601) .. (-0.1885,2.0616) -- cycle;
\fi
%
% alien %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@alien
	\fill[\thing@alien,rotate around={15:(-0.175,2.115)}] (-0.2,1.93) rectangle (-0.15,2.3);
	\fill[\thing@alien,rotate around={-15:(0.175,2.115)}] (0.2,1.93) rectangle (0.15,2.3);
	\fill[\thing@alien] (-0.22,2.30) circle (0.07);
	\fill[\thing@alien] (0.22,2.30) circle (0.07);
\fi
%
% crystal ball %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@crystalball
	\shade[ball color=\thing@crystalball,opacity=0.7] (0,0.8) circle (0.33);
\fi

\begin{scope}[xshift=-26]

% Santa %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@santa
  \fill[\thing@santa] 
    (0.430,1.803) .. controls (0.590,2.174) and (0.837,2.065) ..
    (1.118,1.954) .. controls (1.679,1.731) and (1.328,1.193) .. 
    (1.647,1.057) .. controls (1.638,1.255) and (1.745,2.104) .. 
    (1.168,2.270) .. controls (0.867,2.356) and (0.536,2.280) .. 
    (0.430,1.803) -- cycle;
  \fill[white!80!brown] 
    (0.44,1.733) .. controls (0.211,2.299) and (1.082,2.188) .. 
    (1.456,1.759) .. controls (1.534,1.637) and (1.480,1.545) .. 
    (1.400,1.566) .. controls (1.265,1.714) and (0.577,2.267) .. 
    (0.44,1.733) -- cycle;
  \fill[white!80!brown] (1.6,1.0) circle (0.17);
\fi
%
% Chef hat %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@chef
  \fill[\thing@chef,rotate=-15] (0.44,2.1) ellipse (0.37 and 0.08);  
  \fill[\thing@chef,rotate=-15] (0.07,2.1) rectangle (0.81,2.55);
  \fill[\thing@chef] (1.01,2.47) circle (0.17);
  \fill[\thing@chef] (1.24,2.35) circle (0.15);
  \fill[\thing@chef] (0.77,2.40) circle (0.12);
  \fill[\thing@chef] (1.39,2.20) circle (0.12);
\fi
%
% graduate hat %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@graduate
  \fill[\thing@graduate,rotate=-15] (0.44,2.1) ellipse (0.37 and 0.1);  
  \fill[\thing@graduate,rotate=-15] (0.07,2.1) rectangle (0.81,2.3);
  \fill[\thing@graduate] (0.3,2.25) -- (1.05,2.35) -- (1.7,1.95) -- (0.92,1.85) -- cycle;
  \fill[\thing@tassel,rounded corners=\yscalefactor*1] (1.12,1.89) -- (1.01,2.1) -- (1.09,2.11) -- (1.2,1.9) -- (1.2,1.3) -- (1.12,1.3) -- cycle;
  \fill[\thing@tassel] (1.16,1.3) ellipse (0.06 and 0.12);
\fi
%
% beret %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@beret
  \fill[\thing@beret,rotate=-25] (0.13,2.15) ellipse (0.5 and 0.17);
  \fill[\thing@beret,rotate=-25] (0.13,2.25) ellipse (0.55 and 0.17);
  \fill[\thing@beret,rotate=-25] (0.13,2.4) circle (0.08);
\fi
%
% unicorn %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@unicorn
  \fill[\thing@unicorn,rotate=25] (1.48,1.4375)--(1.60,1.9)--(1.72,1.4375);
  \fill[\thing@body!100,rotate=25] (1.50,1.43)--(1.60,1.8375)--(1.70,1.43);  
\fi
%
% magic hat %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@magichat
  \path[preaction={fill, \thing@magichat!100},rotate=-5,
        pattern=fivepointed stars, pattern color=\thing@magicstars!100] 
    (0.36,1.95)--(0.86,2.95)--(1.20,1.85);
\fi
%
% witch %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@witch
  \fill[\thing@witch,rotate=-15] (0.44,2.13) ellipse (0.75 and 0.17);  
  \fill[\thing@witch,rotate=-15] (0.05,2.2)--(0.45,3.2)--(0.82,2.2);
\fi
%

%
% Queen crown %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@queencrown
  \fill[\thing@queencrown] \thingpathqueencrown;
\fi
%
% King crown %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@kingcrown
  \fill[\thing@kingcrown] \thingpathkingcrown;
\fi
%
% Bunny ears %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@bunny
  \path (0.55,1.9) rectangle (1.2,2.55);
  \begin{pgfinterruptboundingbox}
  \begin{scope}
    \clip[rotate=-5] (0.68,2.38) ellipse (0.3 and 0.4);
    \fill[\thing@bunny,rotate=-5] (1.06,2.2) ellipse (0.3 and 0.4) (0.28,2.26) ellipse (0.3 and 0.4);
  \end{scope}
  
  \begin{scope}
    \clip[rotate=-5] (0.68,2.38) ellipse (0.25 and 0.35);
    \fill[\thing@inear,rotate=-5] (1.06,2.2) ellipse (0.25 and 0.35) (0.28,2.26) ellipse (0.25 and 0.35);
  \end{scope}
  \end{pgfinterruptboundingbox}
\fi
%
% peaked cap %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@peakedcap
  \fill[\thing@peakedcap,rotate=-15] (0.35,2.05) ellipse (0.5 and 0.15);
  \fill[\thing@peakedcap,rotate=-25] (0.13,2.15) ellipse (0.5 and 0.17);
  \fill[\thing@peakedcap,rotate=-35] (-0.25,2.2) ellipse (0.55 and 0.17);
\fi
%
% darth vader %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@darthvader
  \path (0.1,0.1) rectangle (2.1,2.22);
  \begin{pgfinterruptboundingbox}
    \fill[\thing@darthvader] \thingpathdarthvader;
  \end{pgfinterruptboundingbox}
\fi
%
% Harlequin thing %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@harlequin
	\path (0.19,1.85) rectangle (1.85,2.67);
	\begin{pgfinterruptboundingbox}
	\fill[\thing@harlequin] (0.6006,1.9719) .. controls (0.7432,1.8954) and (0.9320,1.8698) .. (0.9320,1.8698) -- (1.0404,2.3839) .. controls (0.9223,2.8873) and (0.1755,2.5634) .. (0.3019,2.2958) .. controls (0.5807,2.5024) and (0.7251,2.3376) .. (0.6006,1.9719) -- cycle;
	\fill[\thing@niuqelrah] (1.2853,1.8902) .. controls (1.1177,1.8507) and (0.9278,1.8703) .. (0.9278,1.8703) -- (1.0404,2.3839) .. controls (1.3637,2.8347) and (1.9373,2.3532) .. (1.7049,2.1284) .. controls (1.5267,2.3895) and (1.3204,2.2666) .. (1.2853,1.8902) -- cycle;
	\end{pgfinterruptboundingbox}
	\fill[\thing@harlequin] (1.7,2.07) circle (0.1);
	\fill[\thing@niuqelrah] (0.3,2.23) circle (0.1);
\fi
%
% Straw hat %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@strawhat
  \fill[\thing@strawhat,rotate=-15] (0.44,2.0) ellipse (0.75 and 0.1);  
  \fill[\thing@strawhat,rotate=-15] (0.1,2.05) rectangle (0.78,2.5);
  \fill[\thing@strawhat,rotate=-15] (0.44,2.5) ellipse (0.34 and 0.08);  
  \fill[\thing@strawhat,rotate=-15] (-0.3,2.02) -- (1.18,2.02) -- (0.78,2.2) -- (0.1,2.2) -- cycle;
  \fill[\thing@ribbon,rotate=-15] (0.44,2.2) ellipse (0.34 and 0.08);   
  \fill[\thing@ribbon,rotate=-15] (0.1,2.2) rectangle (0.78,2.3);
	\fill[\thing@strawhat,rotate=-15] (0.44,2.3) ellipse (0.34 and 0.08);  
\fi
%
%\end{pgfonlayer}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Accessories
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
% sunglasses %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@sunglasses
  \fill[\thing@sunglasses,rotate=-17] (0.42,1.8) rectangle (0.8,1.84);
  \fill[\thing@sunglasses,rotate=-17] (0.12,1.8) rectangle (0.22,1.84);
  \fill[\thing@sunglasses,rotate=-20] (0.23,1.7675) circle (0.14);
  \fill[\thing@sunglasses,rotate=-20] (-0.06,1.74) circle (0.13);        
\fi
%
% glasses %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@glasses
  \fill[\thing@glasses,rotate=-17] (0.42,1.8) rectangle (0.8,1.84);
  \fill[\thing@glasses,rotate=-17] (0.12,1.8) rectangle (0.22,1.84);
  \fill[\thing@glasses,rotate=-20,even odd rule] (0.23,1.7675) circle (0.14) (0.23,1.7675) circle (0.11);
  \fill[\thing@glasses,rotate=-20,even odd rule] (-0.06,1.74) circle (0.13) (-0.06,1.74) circle (0.095);    
\fi
%
% square glasses
\ifthing@squareglasses
  \fill[\thing@squareglasses,rotate=-17] (0.43,1.8) rectangle (0.8,1.84);
  \fill[\thing@squareglasses,rotate=-17] (0.12,1.8) rectangle (0.22,1.84);
  \fill[\thing@squareglasses,rotate=-20,rounded corners=\yscalefactor*2,even odd rule] (-0.16,1.62) -- (-0.18,1.85) -- (0.05,1.87) -- (0.04,1.62) -- cycle [rounded corners=\yscalefactor*1.5] (-0.14,1.64) -- (-0.16,1.83) -- (0.03,1.85) -- (0.02,1.64) -- cycle;
  \fill[\thing@squareglasses,rotate=-20,rounded corners=\yscalefactor*2,even odd rule] (0.12,1.63) -- (0.10,1.88) -- (0.36,1.90) -- (0.35,1.65) -- cycle  [rounded corners=\yscalefactor*1.5] (0.14,1.65) -- (0.12,1.86) -- (0.34,1.88) -- (0.33,1.67) -- cycle;
\fi
%
% icecream %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@icecream
  \fill[\thing@cone,rotate=-20] (0.35,1.20)--(0.50,0.60)--(0.75,1.20);
  \fill[\thing@flavoura] (0.85,1.03) circle (0.12);
  \fill[\thing@flavourb] (1.05,0.95) circle (0.12);
  \fill[\thing@flavourc] (0.95,1.1) circle (0.12);    
\fi
%
% book %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@book
  \fill[\thing@bookcolour,rotate=-20] 
    (0.40,1.20) rectangle (0.80,0.60);
  \node[rotate=-20*\yscalefactor/\xscalefactor, color=white] at (0.88,0.70) {\thing@book};%
\fi
%
% signpost %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@signpost
  \fill[\thing@signcolour, rounded corners=\yscalefactor*1, rotate=-20] (0.8,0.75) rectangle (0.9,1.75);
  \fill[\thing@signcolour, rounded corners=\yscalefactor*1, rotate=-20] (0.4,1.7) rectangle (1.3,2.4);
  \fill[\thing@signback, rounded corners=\yscalefactor*1, rotate=-20] (0.45,1.75) rectangle (1.25,2.35);
   \node[rotate=-20*\yscalefactor/\xscalefactor, color=white] at (1.5,1.65) {\thing@signpost};
\fi
%
% speech bubble %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@speech
  \fill[\thing@bubblecolour] (-0.5,1.8) ellipse (0.7 and 0.3);
  \fill[\thing@bubblecolour] (-0.2,1.54) -- (0.2,1.35) -- (0.0,1.6) -- cycle;
  \node at (-0.5,1.8) {\thing@speech};
\fi
%
% think bubble %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@think
  \fill[\thing@bubblecolour] (2,2.4) ellipse (0.7 and 0.35); 
  \fill[\thing@bubblecolour] (1.55,2.35) circle (0.25) (2.0,2.15) circle (0.25) (2.4,2.25) circle (0.25) (1.6,2.55) circle (0.25) (2.0,2.6) circle (0.25) (2.35,2.5) circle (0.25) (1.65,1.95) circle (0.1) (1.55,1.80) circle (0.06) (1.47,1.70) circle (0.03);
  \node at (2,2.4) {\thing@think};
\fi
%
% magic wand %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@magicwand
  \fill[black,rotate=-30] (0.27,1.23) rectangle (0.37,0.65);
  \fill[white,rotate=-30] (0.27,1.13) rectangle (0.37,1.03);
\fi
%
% cricket bat %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@cricket
  \fill[\thing@cricket, rounded corners=\yscalefactor*2, rotate=-30] (0.4,1.2) rectangle (0.7,2.2);
  \fill[\thing@cricket, rounded corners=\yscalefactor*1, rotate=-30] (0.5,0.8) rectangle (0.6,1.3);
\fi
%
% rollingpin %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@rollingpin
  \fill[\thing@rollingpin, rounded corners=\yscalefactor*2, rotate=-60] (-0.18,0.85) rectangle (0.08,1.75);
  \fill[\thing@rollingpin, rounded corners=\yscalefactor*1, rotate=-60] (-0.1,0.65) rectangle (0.0,1.95);
\fi
%
% lightsaber %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@lightsaber
  \fill[\thing@lightsaber, rounded corners=\yscalefactor*1, rotate=-30] (0.5,0.9) rectangle (0.6,2.5);
  \fill[gray!80!black, rounded corners=\yscalefactor*1, rotate=-30] (0.47,0.7) rectangle (0.63,1.2);
\fi
%
% cake %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@cake
  \fill[\thing@cake] (1.00,0.50) ellipse (0.4 and 0.2);
  \fill[\thing@cake] (0.6,0.5) rectangle (1.4,0.7);
  \fill[\thing@cake] (1.00,0.70) ellipse (0.4 and 0.2);
  \fill[\thing@cake!50!white] (0.75,0.75) rectangle (0.8,0.95);
  \fill[\thing@cake!50!white] (1.2,0.75) rectangle (1.25,0.95);
  \fill[\thing@cake!50!white] (0.975,0.65) rectangle (1.025,0.85);
  \fill[white!85!yellow] (1.0,0.93) ellipse (0.03 and 0.06);
  \fill[white!85!yellow] (1.225,1.03) ellipse (0.03 and 0.06);
  \fill[white!85!yellow] (0.775,1.03) ellipse (0.03 and 0.06);
\fi
%
% pizza %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@pizza
  \fill[brown] (1.00,0.60) ellipse (0.4 and 0.2);
  \fill[red!70!black] (1.00,0.60) ellipse (0.34 and 0.16);
  \fill[white!85!yellow] (1.15,0.65) ellipse (0.065 and 0.04);  
  \fill[white!85!yellow] (0.81,0.57) ellipse (0.065 and 0.04);  
  \fill[white!85!yellow] (0.95,0.68) ellipse (0.065 and 0.04);  
  \fill[white!85!yellow] (1.02,0.54) ellipse (0.065 and 0.04);
  \fill[green!40!brown] (1.09,0.54) ellipse (0.07 and 0.02);
  \fill[green!40!brown,rotate=20] (1.0,0.34) ellipse (0.07 and 0.02);
  \fill[green!40!brown,rotate=-20] (0.9,1.05) ellipse (0.07 and 0.02);
  \fill[green!40!brown] (1.00,0.60) ellipse (0.03 and 0.06);
\fi
% no pizza %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@davidlikespineapplepizza
  \fill[brown] (1.00,0.60) ellipse (0.4 and 0.2);
  \fill[red!70!black] (1.00,0.60) ellipse (0.34 and 0.16);
  \fill[yellow!70!brown] (1.15,0.65) ellipse (0.08 and 0.06);  
  \fill[red!70!black] (1.15,0.65) ellipse (0.04 and 0.03); 
  \fill[yellow!70!brown] (0.81,0.57) ellipse (0.08 and 0.06);  
  \fill[red!70!black] (0.81,0.57) ellipse (0.04 and 0.03); 
  \fill[yellow!70!brown] (0.95,0.68) ellipse (0.08 and 0.06);  
  \fill[red!70!black] (0.95,0.68) ellipse (0.04 and 0.03); 
  \fill[yellow!70!brown] (1.02,0.54) ellipse (0.08 and 0.06);
  \fill[red!70!black] (1.02,0.54) ellipse (0.04 and 0.03); 
  \fill[green!40!brown] (1.09,0.54) ellipse (0.07 and 0.02);
  \fill[green!40!brown,rotate=20] (1.0,0.34) ellipse (0.07 and 0.02);
  \fill[green!40!brown,rotate=-20] (0.9,1.05) ellipse (0.07 and 0.02);
  \fill[green!40!brown] (1.00,0.60) ellipse (0.03 and 0.06);	
\fi
%
%
%
% Hockey stick %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@hockey
  \fill[\thing@hockey, rounded corners=\yscalefactor*1, rotate=-30] (0.5,0.6) rectangle (0.6,2.1);
  \fill[\thing@hockey, rounded corners=\yscalefactor*3] (0.2,0.2) rectangle (0.85,0.4);
\fi
%
% baguette %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@baguette
  \fill[\thing@baguette!70!white, rounded corners=\yscalefactor*4, rotate=-30] (0.4,0.72) rectangle (0.7,2.0);
  \fill[\thing@baguette!80!black, rotate=5] (1.44,1.1) ellipse (0.1 and 0.03) (1.30,0.9) ellipse (0.1 and 0.03) (1.16,0.7) ellipse (0.1 and 0.03) (1.02,0.5) ellipse (0.1 and 0.03);
\fi
%
% football %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@football
  \fill[\thing@football] (1.2,0.33) circle (0.32);
  \begin{scope}
    \clip (1.2,0.33) circle (0.32);
    \fill[black] (1.06,0.30) -- (1.01,0.17) -- (1.14,0.08) -- (1.26,0.14) -- (1.20,0.28) -- cycle (1.37,0.14) -- (1.46,0.27) -- (1.59,0.27) -- (1.41,0.04) -- cycle (1.28,0.38) -- (1.22,0.52) -- (1.33,0.61) -- (1.45,0.51) -- (1.43,0.37) -- cycle (0.87,0.44) -- (1.02,0.40) -- (1.10,0.53) -- (1.07,0.62) -- (0.94,0.57) -- cycle;
  \end{scope}
\fi
%
% milkshake %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@milkshake
  \fill[cyan!10!white, rotate=-10] (0.8,0.50) ellipse (0.17 and 0.05);
  \fill[cyan!10!white, rotate=-10] (0.8,0.55) ellipse (0.12 and 0.03);
  \begin{scope}
    \clip[rotate=-10] (0.58,0.5) rectangle (1.02,1.03); 
    \fill[cyan!10!white, rotate=-10] (0.8,0.94) ellipse (0.18 and 0.4);
    \fill[\thing@milkshake, rotate=-10] (0.8,0.94) ellipse (0.15 and 0.36);
  \end{scope}
  \fill[white!85!yellow] (0.83,0.92) circle (0.05) (0.88,0.9) circle (0.05) (0.93,0.92) circle (0.05) (0.99,0.91) circle (0.05) (1.06,0.86) circle (0.05) (1.13,0.87) circle (0.05) (0.85,0.99) circle (0.05) (0.9,0.98) circle (0.07) (1.0,0.98) circle (0.07) (1.1,0.95) circle (0.07);
  \fill[red!90!black] (1.0,1.1) circle (0.05);
  \fill[white!85!yellow] (0.94,1.05) circle (0.05) (1.03,1.03) circle (0.05);
  \fill[cyan!10!white, rotate=-10] (0.8,0.50) ellipse (0.17 and 0.05);
  \fill[red!90!black,rotate=20] (1.2,0.58) rectangle (1.22,0.85); 
\fi
% 
% wine %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@wine
  \fill[cyan!10!white, rotate=-10] (0.8,0.50) ellipse (0.17 and 0.05);
  \fill[cyan!10!white, rotate=-10] (0.8,0.55) ellipse (0.12 and 0.03);
  \fill[cyan!10!white, rotate=-10] (0.8,0.7) ellipse (0.03 and 0.2);
  \begin{scope}
    \clip[rotate=-10] (0.58,0.5) rectangle (1.02,1.03); 
    \fill[cyan!10!white, rotate=-10] (0.8,1.1) ellipse (0.18 and 0.4);
  \end{scope}
  \begin{scope}
    \clip[rotate=-10] (0.58,0.5) rectangle (1.02,0.87); 
    \fill[\thing@wine, rotate=-10] (0.8,1.1) ellipse (0.15 and 0.36);
  \end{scope}
\fi
%
% prison thing %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@prison
  \fill[\thing@prison] (1.5,0.25) circle (0.3);
  \fill[\thing@prison, even odd rule] (1.2,0.1) ellipse (0.10 and 0.07) (1.2,0.1) ellipse (0.06 and 0.04) (1.05,-0.05) ellipse (0.10 and 0.07) (1.05,-0.05) ellipse (0.06 and 0.04) (0.87,-0.2) ellipse (0.10 and 0.07) (0.87,-0.2) ellipse (0.06 and 0.04);
  \fill[\thing@prison, even odd rule] (0.72,-0.2) ellipse (0.10 and 0.07) (0.72,-0.2) ellipse (0.06 and 0.04);  
  \fill[\thing@prison,even odd rule,rotate=70](0.4,-1.05) ellipse (0.1 and 0.07) (0.4,-1.05) ellipse (0.06 and 0.04) (0.2,-0.95) ellipse (0.1 and 0.07) (0.2,-0.95) ellipse (0.06 and 0.04) (0.22,-0.58) ellipse (0.1 and 0.07) (0.22,-0.58) ellipse (0.06 and 0.04);
  \fill[\thing@prison,even odd rule,rotate=110](-0.33,-0.55) ellipse (0.1 and 0.07) (-0.33,-0.55) ellipse (0.06 and 0.04);  
  \begin{scope}
    \clip[rotate=-12] (0.45,0.15) rectangle (0.63,0.25);  
    \fill[\thing@prison,even odd rule,rotate=110](-0.07,-0.6) ellipse (0.1 and 0.07) (-0.07,-0.6) ellipse (0.06 and 0.04);  
  \end{scope}
\fi
%
% torch %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@torch
  \fill[red!50!yellow] \thingpathtorch;
  \fill[red!25!yellow, scale=0.67, xshift=17, yshift=15] \thingpathtorch;
  \fill[white!50!yellow, scale=0.4, xshift=53.5, yshift=45.3] \thingpathtorch;
  \fill[\thing@torch,rounded corners=\yscalefactor*1] 
      (1.1,0.96) -- (0.77,0.25) -- (0.83,0.25) -- (1.3,0.86) -- cycle;
  \fill[\thing@torch,rotate=-28] 
      (0.62,1.32) ellipse (0.2 and 0.08);
\fi%
% 
% sheep %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@sheep
  \begin{scope}
    \clip[rotate=-5] (1.2,1.7) ellipse (0.3 and 0.4);
    \fill[\thing@bill,rotate=-5] (0.8,1.5) ellipse (0.3 and 0.4);
  \end{scope}
\fi
%
% basket %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@basket
  \fill[\thing@basket, start angle=180, end angle=360, x radius=0.35, y radius=0.35] (0.65,0.61) arc  -- cycle;
  \fill[\thing@basket, start angle=180, end angle=0, even odd rule] [x radius=0.35, y radius=0.5] (0.65,0.6) arc  -- cycle [x radius=0.3, y radius=0.45] (0.7,0.6) arc  -- cycle;
  \fill[\thing@basket, even odd rule] (1,0.6) ellipse (0.35 and 0.1) (1,0.6) ellipse (0.3 and 0.07);  
  \fill[\thing@basket!75!black] (1,0.6) ellipse (0.3 and 0.07);  
\fi%  
%
% easter basket %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@easter
  \begin{scope}
    \clip [start angle=180, end angle=0, x radius=0.3, y radius=0.45] (0.7,0.6) arc  -- cycle [start angle=180, end angle=360, x radius=0.3, y radius=0.07] (0.7,0.6) arc  -- cycle;  
    \fill[\thing@eggb, rotate=-5]  (0.95,0.72) ellipse (0.09 and 0.13);
    \fill[\thing@egga, rotate=10]  (0.94,0.42) ellipse (0.09 and 0.13);
    \fill[\thing@eggc, rotate=-30] (0.7,1.08) ellipse (0.09 and 0.13);
  \end{scope}  
\fi%
%
% horse tail %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pgfkeys{/thing/horsetail/.@def/.get=\thing@test}
\ifx\thing@horsetail\thing@test
  \ifdefined\thing@hair\let\thing@horsetail=\thing@hair\fi
\fi%
\ifthing@horsetail
  \path (0.1,0.1) rectangle (2.82,2.14);
  \begin{pgfinterruptboundingbox}  
    \fill[\thing@horsetail] \thingpathhorsetail;
  \end{pgfinterruptboundingbox}
\fi  
%
% crozier %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifthing@crozier
	\begin{scope}
		\clip [rotate=-20] (0.6,2.3) rectangle (1.1,1.999);
		\fill[even odd rule,\thing@crozier] (1.5,1.6) circle (0.2) (1.5,1.6) circle (0.1);
	\end{scope}
	\fill[\thing@crozier,rotate=-20] (0.663,0.5) rectangle (0.763,2.0);	
\fi
%
% stethoscope
\ifthing@stethoscope
	\fill[\thing@stethoscope,rounded corners=\yscalefactor*0.5,rotate=-18] (0.08,0.7) rectangle (0.13,1.24);
	\fill[\thing@stethoscope] (0.35,0.7) circle (0.1); 
	\begin{scope}
		\fill[\thing@stethoscope,rounded corners=\yscalefactor*0.5,rotate=-30] (0.53,1.3) rectangle (0.58,1.72);
		\clip[rotate=-30] (0.36,0.89) -- (0.36,1.36) -- (0.79,1.36) -- (0.79,0.89) -- (0.65,0.89) -- (0.65,0.96) -- (0.5,0.96) -- (0.5,0.89) -- cycle ;
		\fill [\thing@stethoscope,rounded corners=\yscalefactor*3,rotate=-30,even odd rule] (0.775,1.35) rectangle (0.375,0.9) [rounded corners=\yscalefactor*2] (0.725,1.3) rectangle (0.425,0.95);
	\end{scope}
\fi
%% vampire %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\ifthing@vampire
%	\ifthing@laughing
%		\fill[\thing@vampire] (0.55,1.28) -- (0.575,1.22) -- (0.6,1.29) -- cycle;
%	\else
%		\fill[\thing@vampire] (0.6,1.20) -- (0.625,1.16) -- (0.65,1.223) -- cycle;
%	\fi
%\fi
%%
%
%%
%% wing %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\ifthing@wing
%	\fill[\thing@wing] \thingpathwing;
%\fi

\end{scope}

}